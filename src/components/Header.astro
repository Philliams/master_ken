---
import { NAVIGATION } from '@config/site';
import { Package } from 'lucide-react';
import MobileMenu from '@components/react/MobileMenu';
import { Image } from 'astro:assets';

const { currentPathname } = Astro.props;
const isActiveLink = (href: string) : boolean => { return href === currentPathname; }
import logoImg from '@assets/logo_text.png';
---

<header class="sticky top-0 z-50 w-full border-b shadow-sm bg-light-tan-dark/95 border-light-tan-dark backdrop-blur-xl">
  <nav class="container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8">
    <!-- Logo -->
    <div class="flex items-center">      <a href="/master_ken/" class="flex items-center space-x-3 group">
        <div class="flex items-center justify-center w-12 h-12 rounded-lg bg-gradient-burgundy group-hover:scale-110 transition-transform">
          <!-- <Package className="w-6 h-6 text-white" /> -->
          <Image 
            src={logoImg}
            alt= "Master Ken logo"
            class="w-10 h-10 object-contain"
            width={300}
            height={300}
          />
        </div>
        
        <span class="text-2xl font-bold gradient-text">
          Master Ken
        </span>
      </a>
    </div>

    <!-- Desktop Navigation -->
    <div class="hidden lg:flex lg:items-center lg:space-x-1">
      {NAVIGATION.map((item) => {
        const isActive = isActiveLink(item.href);
        return (
        <a
          href={item.href}
          class={`nav-link px-4 py-2 text-sm font-medium rounded-lg transition-all relative group ${isActive ? 'nav-active' : ''}`}
        >
          {item.name}
        </a>
      );
      })}
    </div>

    <!-- CTA Button -->
    <div class="hidden lg:flex lg:items-center lg:space-x-4">
      <a
        href="/master_ken/contact"
        class="cta-button inline-flex items-center px-6 py-2.5 text-sm font-semibold text-white rounded-lg shadow-md hover:shadow-lg transition-all"
      >
        Contact
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <MobileMenu client:idle />
  </nav>
</header>

<style>
  .nav-link {
    color: #331d1d;
  }
  
  .nav-link:hover {
    color: #9f3434;
    background-color: #f2d1b5;
  }
  
  .cta-button {
    background: linear-gradient(135deg, #9f3434 0%, #7a2828 100%);
  }
  
  .cta-button:hover {
    background: linear-gradient(135deg, #7a2828 0%, #5a1f1f 100%);
  }
</style>
